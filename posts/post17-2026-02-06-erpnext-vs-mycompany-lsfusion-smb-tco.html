<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>ERPNext vs MyCompany (lsFusion) for SMB: Unique processes, code, and the real cost of change – DevLab Blog</title>

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content="Both ERPNext and MyCompany (lsFusion) are free to start. For SMB, the real difference is not license cost, but how expensive it is to change unique business processes over 2 years. A practical comparison with code and numbers."
  />

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="https://uk.devlab.blog/img/devlab-logo.svg">
  <link rel="alternate icon" type="image/png" sizes="32x32" href="https://uk.devlab.blog/img/devlab-favicon-32.png">
  <link rel="apple-touch-icon" sizes="180x180" href="https://uk.devlab.blog/img/devlab-favicon-180.png">

  <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}

  gtag('consent','default',{
    analytics_storage:'denied',
    ad_storage:'denied',
    ad_user_data:'denied',
    ad_personalization:'denied',
    functionality_storage:'granted',
    security_storage:'granted'
  });
  </script>

  <!-- Main blog styles -->
  <link rel="stylesheet" href="https://uk.devlab.blog/style/devlab-style.css">

  <!-- Main blog scripts (year + search + views counter) -->
  <script src="https://uk.devlab.blog/js/script.js" defer></script>

  <!-- post_slug → post17-2026-02-06-erpnext-vs-mycompany-lsfusion-smb-tco
       post_id   → post17-2026-02-06-erpnext-vs-mycompany-lsfusion-smb-tco -->

  <!-- Structured data for search engines -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://ru.devlab.blog/posts/post17-2026-02-06-erpnext-vs-mycompany-lsfusion-smb-tco.html"
    },
    "headline": "ERPNext vs MyCompany (lsFusion) for SMB: Unique processes, code, and the real cost of change",
    "description": "Both ERPNext and MyCompany (lsFusion) are free to start. A deep architectural comparison of ERPNext and MyCompany (lsFusion) through a real retail replenishment process. Lines of code, design philosophy and long-term implications for CTOs.",
    "author": {
      "@type": "Organization",
      "name": "DevLab Blog"
    },
    "publisher": {
      "@type": "Organization",
      "name": "DevLab",
      "logo": {
        "@type": "ImageObject",
        "url": "https://uk.devlab.blog/img/devlab-logo.svg"
      }
    },
    "datePublished": "2026-02-06",
    "dateModified": "2026-02-06"
  }
  </script>

  <!-- Canonical URL -->
  <link rel="canonical" href="https://ru.devlab.blog/posts/post17-2026-02-06-erpnext-vs-mycompany-lsfusion-smb-tco.html">

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WTZDV4K6');</script>
  <!-- End Google Tag Manager -->
</head>
<body class="post-page">
  <div class="page">
    <header>
      <div class="wrapper">
        <nav class="nav">
          <a href="/" class="nav-brand">
            <div class="nav-logo">
              <img src="https://uk.devlab.blog/img/devlab-logo.svg" alt="DevLab Blog logo">
            </div>
            <div class="nav-meta">
              <div class="nav-meta-title">DevLab Blog</div>
              <div class="nav-meta-sub">Open-source ERP & automation notes</div>
            </div>
          </a>
        </nav>
      </div>
    </header>

    <main>
      <div class="wrapper">
        <div class="main-grid">
          <article id="post-erpnext-vs-mycompany-real-life">

            <div class="section-title">
              <span>Article</span>
              <small><a class="back" href="/">← Back to all posts</a></small>
            </div>

            <header>
              <div class="post-meta">
                <span>Architecture</span>
                <span>&middot;</span>
                <span>Approx. 18 min read</span>
                <span>&middot;</span>
                <span>Deep dive</span>
              </div>

              <h1 class="hero-title">
                A Real-World Comparison: ERPNext vs MyCompany in Retail Replenishment
              </h1>

              <p class="hero-text">
                A neutral architectural deep dive comparing ERPNext and MyCompany (lsFusion) using a realistic retail replenishment process and real code structure.
              </p>
            </header>

           <section class="post-content">

<h2>1. Why Retail Replenishment Is a Proper ERP Stress Test</h2>

<p>
ERP demos are easy. Real operations are not.
</p>

<p>
Retail replenishment is one of the first processes where ERP systems stop being “forms and documents” and start being <strong>decision engines</strong>. It forces the platform to handle:
</p>

<ul>
<li>Time-series sales data</li>
<li>Forecast adjustments (seasonality, promotions)</li>
<li>Supplier constraints (lead time, MOQ, pack size)</li>
<li>Multi-warehouse logic</li>
<li>Automatic document generation</li>
<li>Human approval workflows</li>
<li>Explainability of system decisions</li>
</ul>

<p>
This makes it an ideal comparison case for ERPNext and MyCompany (built on the lsFusion platform).
</p>

<p>
The goal of this article is not marketing.
It is to answer a practical CTO-level question:
</p>

<blockquote>
How much real engineering effort does it take to implement a non-trivial retail process?
</blockquote>

<p>
And yes — we will count lines of code.
</p>

<figure>
  <img src="/img/posts/erpnext-vs-mycompany/retail-replenishment-overview.webp" alt="Retail replenishment process overview diagram" loading="lazy">
</figure>

<hr>

<h2>2. Business Specification (Realistic, Not a Toy)</h2>

<h3>Scenario</h3>

<ul>
<li>15 retail stores</li>
<li>1 central warehouse</li>
<li>4 main suppliers</li>
<li>Daily POS sales</li>
<li>Weekly promotions</li>
<li>Mixed transfer / purchase strategy</li>
</ul>

<h3>Requirements</h3>

<p>Every night (02:00 AM):</p>

<p>For each SKU per store:</p>

<ol>
<li>Calculate average daily sales (last 28 days)</li>
<li>Adjust with promotion factor (if active)</li>
<li>Multiply by supplier lead time</li>
<li>Subtract:
  <ul>
    <li>Current stock</li>
    <li>Incoming purchase orders</li>
    <li>Incoming transfers</li>
  </ul>
</li>
<li>Apply:
  <ul>
    <li>MOQ (minimum order quantity)</li>
    <li>Pack size rounding</li>
  </ul>
</li>
<li>If deficit:
  <ul>
    <li>Prefer transfer from warehouse if available</li>
    <li>Otherwise suggest Purchase Order</li>
  </ul>
</li>
<li>Create draft documents</li>
<li>Log explanation</li>
<li>Provide UI screen:
  <ul>
    <li>View suggestions</li>
    <li>Approve</li>
    <li>Reject</li>
    <li>Recalculate</li>
  </ul>
</li>
</ol>

<p><strong>Explainability example:</strong></p>

<blockquote>
“Calculated need: 94 units (ADS 4.7 × 14 days – 32 stock – 40 incoming). Rounded to 96 due to pack size 12.”
</blockquote>

<hr>

<h2>3. ERPNext Implementation</h2>

<figure>
  <img src="/img/posts/erpnext-vs-mycompany/erpnext-architecture.webp" alt="ERPNext architecture and customization flow" loading="lazy">
</figure>

<p>
ERPNext is built on the Frappe Framework (Python backend, JS frontend).
</p>

<p>
It already supports:
</p>

<ul>
<li>Stock</li>
<li>Reorder level</li>
<li>Material Requests</li>
<li>Purchase Orders</li>
<li>Stock Transfers</li>
</ul>

<p>
But the required business logic exceeds built-in reorder functionality.
</p>

<h3>3.1 Architectural Approach</h3>

<p>Typical implementation:</p>

<ul>
<li>Custom DocType: Replenishment Rule</li>
<li>Scheduled Python job</li>
<li>Custom server-side report</li>
<li>Client Script for UI actions</li>
<li>Hooks for automation</li>
</ul>

<h3>3.2 Data Model Extension</h3>

<pre><code>{
  "doctype": "Replenishment Rule",
  "fields": [
    {"fieldname": "item", "fieldtype": "Link", "options": "Item"},
    {"fieldname": "warehouse", "fieldtype": "Link", "options": "Warehouse"},
    {"fieldname": "lead_time_days", "fieldtype": "Int"},
    {"fieldname": "promotion_factor", "fieldtype": "Float"},
    {"fieldname": "moq", "fieldtype": "Int"},
    {"fieldname": "pack_size", "fieldtype": "Int"}
  ]
}</code></pre>

<p>
~120–180 LOC including metadata.
</p>

<h3>3.3 Scheduled Job (Core Logic)</h3>

<pre><code># app/replenishment/scheduler.py

import frappe
from frappe.utils import nowdate, add_days

def nightly_replenishment():
    rules = frappe.get_all("Replenishment Rule", fields="*")

    for rule in rules:
        avg_sales = calculate_average_sales(rule.item, rule.warehouse)
        adjusted_sales = avg_sales * (rule.promotion_factor or 1)

        required_qty = adjusted_sales * rule.lead_time_days

        current_stock = get_stock(rule.item, rule.warehouse)
        incoming = get_incoming(rule.item, rule.warehouse)

        deficit = required_qty - current_stock - incoming

        if deficit > 0:
            rounded_qty = round_to_pack(deficit, rule.pack_size, rule.moq)
            create_suggestion(rule, rounded_qty)
</code></pre>

<p>
Helper functions (stock queries, SQL joins, report generation, rounding, document creation) add another ~180–300 LOC.
</p>

<h3>3.4 Suggestion Report</h3>

<pre><code>def execute(filters=None):
    columns = [...]
    data = frappe.db.sql("""
        SELECT item, warehouse, suggested_qty, explanation
        FROM `tabReplenishment Suggestion`
        WHERE status = 'Draft'
    """, as_dict=True)
    return columns, data
</code></pre>

<p>
~70–120 LOC.
</p>

<h3>3.5 Client-Side Approve Action</h3>

<pre><code>frappe.ui.form.on('Replenishment Suggestion', {
    approve: function(frm) {
        frappe.call({
            method: "app.replenishment.approve",
            args: { name: frm.doc.name },
            callback: function(r) {
                frm.reload_doc();
            }
        });
    }
});
</code></pre>

<p>
~40–80 LOC.
</p>

<h3>3.6 ERPNext LOC Summary</h3>

<table>
<tr><th>Component</th><th>LOC (approx)</th></tr>
<tr><td>Python core logic</td><td>250–400</td></tr>
<tr><td>Reports</td><td>70–120</td></tr>
<tr><td>Client JS</td><td>40–80</td></tr>
<tr><td>Metadata JSON</td><td>120–200</td></tr>
<tr><td><strong>Total (repo LOC)</strong></td><td><strong>480–800</strong></td></tr>
</table>

<p><strong>Logic-only LOC:</strong> ~320–600</p>

<hr>

<h2>4. MyCompany (lsFusion) Implementation</h2>

<figure>
  <img src="/img/posts/erpnext-vs-mycompany/lsfusion-logic.webp" alt="Declarative business logic in lsFusion" loading="lazy">
</figure>

<p>
MyCompany is built on lsFusion, a declarative business logic platform.
</p>

<p>
Instead of writing procedural jobs, you define:
</p>

<ul>
<li>Data properties</li>
<li>Calculated expressions</li>
<li>Actions</li>
<li>Forms</li>
</ul>

<h3>4.1 Data Definition</h3>

<pre><code>CLASS Item;
CLASS Warehouse;
CLASS Rule;

item = DATA Item (Rule);
warehouse = DATA Warehouse (Rule);
leadTime = DATA INTEGER (Rule);
promotionFactor = DATA NUMERIC[10,2] (Rule);
moq = DATA INTEGER (Rule);
packSize = DATA INTEGER (Rule);
</code></pre>

<h3>4.2 Calculated Properties</h3>

<pre><code>avgSales(Item i, Warehouse w) =
    SUM quantity(Sale s)
    WHERE s.item = i AND s.warehouse = w
    AND s.date >= currentDate() - 28
    / 28;

requiredQty(Rule r) =
    avgSales(item(r), warehouse(r))
    * promotionFactor(r)
    * leadTime(r);

deficit(Rule r) =
    requiredQty(r)
    - currentStock(item(r), warehouse(r))
    - incoming(item(r), warehouse(r));
</code></pre>

<h3>4.3 Rounding Logic</h3>

<pre><code>roundedQty(Rule r) =
    MAX(moq(r),
        CEIL(deficit(r) / packSize(r)) * packSize(r)
    )
    IF deficit(r) > 0;
</code></pre>

<h3>4.4 Action</h3>

<pre><code>generateSuggestions() {
    FOR r IN Rule DO {
        IF deficit(r) > 0 THEN
            NEW Suggestion {
                rule = r;
                quantity = roundedQty(r);
                explanation =
                    'ADS × LT – stock – incoming = ' + deficit(r);
            };
    }
}
</code></pre>

<h3>4.5 UI</h3>

<pre><code>FORM suggestions
    OBJECTS s = Suggestion
    PROPERTIES s.rule, s.quantity, s.explanation;
</code></pre>

<h3>4.6 MyCompany LOC Summary</h3>

<table>
<tr><th>Component</th><th>LOC (approx)</th></tr>
<tr><td>Data definitions</td><td>25</td></tr>
<tr><td>Business logic</td><td>60–90</td></tr>
<tr><td>Rounding</td><td>10</td></tr>
<tr><td>Actions</td><td>30–40</td></tr>
<tr><td>UI</td><td>20–30</td></tr>
<tr><td><strong>Total</strong></td><td><strong>145–195</strong></td></tr>
</table>

<hr>

<h2>5. Side-by-Side Comparison</h2>

<table>
<tr><th>Metric</th><th>ERPNext</th><th>MyCompany</th></tr>
<tr><td>Logic paradigm</td><td>Procedural (Python)</td><td>Declarative</td></tr>
<tr><td>Job scheduling</td><td>Explicit</td><td>Built-in action</td></tr>
<tr><td>UI wiring</td><td>JS required</td><td>Declarative</td></tr>
<tr><td>LOC (logic-only)</td><td>320–600</td><td>100–150</td></tr>
<tr><td>LOC (full repo)</td><td>480–800</td><td>145–200</td></tr>
</table>

<hr>

<h2>6. Architectural Implications</h2>

<p>
ERPNext spreads logic across Python, JS and metadata.
MyCompany centralizes rules declaratively.
</p>

<p>
More lines of code typically mean:
</p>

<ul>
<li>Higher cognitive load</li>
<li>More integration glue</li>
<li>More surface for regression</li>
</ul>

<hr>

<h2>7. When Each Platform Wins</h2>

<p><strong>Choose ERPNext if:</strong></p>
<ul>
<li>You need full ERP immediately</li>
<li>Your logic is relatively standard</li>
<li>You want ecosystem over elegance</li>
</ul>

<p><strong>Choose MyCompany if:</strong></p>
<ul>
<li>Your competitive advantage is in custom logic</li>
<li>You expect frequent rule changes</li>
<li>You want ERP as a constructor, not a product</li>
</ul>

<hr>

<h2>8. Conclusion</h2>

<p>
Counting lines of code is not everything.
</p>

<p>
But in complex business processes:
</p>

<blockquote>
LOC correlates with cognitive load.  
Cognitive load correlates with long-term maintenance cost.
</blockquote>

<p>
In this replenishment scenario:
</p>

<ul>
<li>ERPNext required ~2–4× more code.</li>
<li>MyCompany expressed business rules more compactly.</li>
</ul>

<p>
The difference is not about Python vs another language.
It is about procedural extension vs declarative modeling.
</p>

<p>
There is also a modern dimension that cannot be ignored:
the amount and structure of code directly influence how efficiently AI tools can learn,
assist, refactor and generate extensions. Larger procedural surfaces increase AI training
cost, context complexity and long-term operational expense.
More compact declarative logic reduces both human and AI maintenance overhead.
</p>

<p>
For CTOs and architects, the question is simple:
</p>

<blockquote>
Are you extending an ERP?  
Or are you modeling a business system?
</blockquote>

<p>
That decision determines how your next five years of maintenance — and AI-assisted evolution — will feel.
</p>

</section>
          </article>
          </section>

            <div class="post-nav-links">
              <a class="back" href="/#posts" style="margin-left: 0;">← Back to all articles</a>
              <a class="back" href="/#categories" style="margin-right: 0;">Categories →</a>
            </div>
          </article>

          <!-- SIDEBAR -->
          <aside class="sidebar">
            <section class="sidebar-block">
              <h3 class="sidebar-title" id="topic-question-title">Suggest a topic</h3>
              <p class="sidebar-text">
                Have a question or an idea for the next post?
                <a class="post-read" href="mailto:info@devlab.blog?subject=Идея%20или%20вопрос%20для%20DevLab%20Blog">
                  Write to us →
                </a>
              </p>
            </section>

            <section class="sidebar-block">
              <h3 class="sidebar-title">About the blog</h3>
              <p class="sidebar-text">
                DevLab Blog — notes on open-source ERP, modular approaches, integrations, and automation practice.
                We write about what breaks in real implementations and how to make tech decisions without “religion”.
              </p>
            </section>

            <section class="sidebar-block">
              <h3 class="sidebar-title">More</h3>
              <p class="sidebar-text">
                Return to the home page or pick a category:
              </p>
              <ul>
                <li><a href="/">All articles</a></li>
                <li><a href="/#categories">Categories</a></li>
                <li><a href="https://devlab.blog" target="_blank" rel="noopener noreferrer">DevLab main site</a></li>
              </ul>
            </section>
          </aside>
        </div>
      </div>
    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="wrapper footer-grid">
        <div>
          <div class="footer-links">
            <a href="/">Articles</a>
            <a href="/#categories">Categories</a>
            <a href="/#about">About</a>
            <a href="https://devlab.blog" target="_blank" rel="noopener noreferrer">Main site</a>
          </div>
          <p class="footer-meta">
            DevLab Blog – notes on open-source ERP, modular architectures, and automation.
          </p>
        </div>
        <div class="footer-meta">
          <p>&copy; <span id="year"></span> DevLab Blog</p>
        </div>
      </div>
    </footer>
  </div>
</body>
</html>
